import "@cadl-lang/rest";

using Cadl.Http;

@error
model Error {
  code: int32;
  message: string;
}

model List<T> {
  value: T[];
  nextLink?: url;
}

model Patch<T> {
  @header contentType: "application/merge-patch+json";
  ...T;
}

interface ResourceInterface<T> {
  @get list(): List<T> | Error;
  @get read(@path id: string): T | Error;
  @put create(@body body: T): T | Error;
  @patch update(@body body: Patch<T>): T | Error;
  @delete delete(@path id: string): void | Error;
}
